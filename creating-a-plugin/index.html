<!doctype html><html data-content-filepath=content/groups/creating_a_plugin.json lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Creating A Plugin</title>
<script type=module src=/spa/core/main.js?NibqumrQzj></script><link rel=icon type=image/x-icon href=/pocketbuilds.svg><link rel=stylesheet href=/css/global.css?NibqumrQzj><link rel=stylesheet href=/spa/bundle.css?NibqumrQzj><body class=svelte-demnok><div class="wrapper svelte-demnok"><header class=svelte-demnok><nav class=svelte-1fh7znp><div class="left svelte-1fh7znp"><div class="brand svelte-1fh7znp"><a href=https://pocketbuilds.com/ class=svelte-1fh7znp><img src=/pocketbuilds.svg alt="PocketBuilds logo">
<span>Pocket<strong>Builds</strong></span></a></div><div>Documentation</div></div><div class="right svelte-1fh7znp"><div class=github><a href=https://github.com/pocketbuilds/xpb><img src=/github.svg alt="GitHub Octocat Icon"></a></div></div></nav></header><main class=svelte-demnok><nav class="svelte-a0t8d9 open"><ul class=svelte-a0t8d9><li class="svelte-a0t8d9 index"><a href=/ class=svelte-a0t8d9>PocketBuilds Docs</a><li class="svelte-a0t8d9 group"><a href=/installing-xpb class=svelte-a0t8d9>Installing XPB</a><li class="svelte-a0t8d9 group current"><a href=/creating-a-plugin class=svelte-a0t8d9>Creating a Plugin</a><li class="svelte-a0t8d9 doc"><a href=/creating-a-plugin/plugin-config class=svelte-a0t8d9>Plugin Config</a></ul><button type=button class="svelte-1wyyo4v vertical"><div class="inner svelte-1wyyo4v"><svg width="25px" height="25px" viewBox="0 0 24 24" style="transform: scale(1); color: white; background: transparent; stroke-width: 2;"><use href="/icons/chevron-compact-left.svg"></use></svg></div></button></nav><div class="content svelte-demnok"><section><h1>Creating a Plugin</h1><p>You can use the following command to create a plugin project in the working directory:<pre><code class="language-sh hljs language-bash" data-highlighted=yes>xpb plugin init &lt;plugin_name&gt;
</code></pre><p>This command will create a Go module using <strong>plugin_name</strong> as the module name.<p>The key file to note is <strong>plugin.go</strong>. It will look something like this:</p><div class="accordion svelte-14podhq closed"><pre><code data-highlighted=yes class="hljs language-go"><span class=hljs-keyword>package</span> plugin

<span class=hljs-keyword>import</span> (
	<span class=hljs-string>"github.com/pocketbase/pocketbase/core"</span>
	<span class=hljs-string>"github.com/pocketbuilds/xpb"</span>
)

<span class=hljs-keyword>type</span> Plugin <span class=hljs-keyword>struct</span> {}

<span class=hljs-function><span class=hljs-keyword>func</span> <span class=hljs-title>init</span><span class=hljs-params>()</span></span> {
	xpb.Register(&amp;Plugin{})
}

<span class=hljs-comment>// Name implements xpb.Plugin.</span>
<span class=hljs-function><span class=hljs-keyword>func</span> <span class=hljs-params>(p *Plugin)</span></span> Name() <span class=hljs-type>string</span> {
	<span class=hljs-keyword>return</span> <span class=hljs-string>"plugin"</span>
}

<span class=hljs-comment>// This variable will automatically be set at build time by xpb</span>
<span class=hljs-keyword>var</span> version <span class=hljs-type>string</span>

<span class=hljs-comment>// Version implements xpb.Plugin.</span>
<span class=hljs-function><span class=hljs-keyword>func</span> <span class=hljs-params>(p *Plugin)</span></span> Version() <span class=hljs-type>string</span> {
	<span class=hljs-keyword>return</span> version
}

<span class=hljs-comment>// Description implements xpb.Plugin.</span>
<span class=hljs-function><span class=hljs-keyword>func</span> <span class=hljs-params>(p *Plugin)</span></span> Description() <span class=hljs-type>string</span> {
	<span class=hljs-built_in>panic</span>(<span class=hljs-string>"unimplemented"</span>)
}

<span class=hljs-comment>// Init implements xpb.Plugin.</span>
<span class=hljs-function><span class=hljs-keyword>func</span> <span class=hljs-params>(p *Plugin)</span></span> Init(app core.App) <span class=hljs-type>error</span> {
	<span class=hljs-built_in>panic</span>(<span class=hljs-string>"unimplemented"</span>)
}
</code></pre></div><button type=button class="svelte-1wyyo4v horizontal"><div class="inner svelte-1wyyo4v"><svg width="25px" height="25px" viewBox="0 0 24 24" style="transform: scale(1); color: white; background: transparent; stroke-width: 2;"><use href="/icons/chevron-compact-down.svg"></use></svg></div></button><p>The struct here called <code data-highlighted=yes class="hljs language-undefined">Plugin</code> adheres to the <code data-highlighted=yes class="hljs language-undefined">xpb.Plugin</code> interface, which allows it to be registered to the xpb runtime in the <code data-highlighted=yes class="hljs language-scss"><span class=hljs-built_in>init</span>()</code> function (a special Go function that runs when your Go module is first loaded).<p>The <code data-highlighted=yes class="hljs language-undefined">xpb.Plugin</code> interface looks like this:<pre><code class="language-go hljs" data-highlighted=yes><span class=hljs-keyword>type</span> Plugin <span class=hljs-keyword>interface</span> {
	Init(app core.App) <span class=hljs-type>error</span>
	Name() <span class=hljs-type>string</span>
	Version() <span class=hljs-type>string</span>
	Description() <span class=hljs-type>string</span>
}
</code></pre><ul><li><p><code data-highlighted=yes class="hljs language-scss"><span class=hljs-built_in>Init</span>(app core.App) error</code> is called before the pocketbase application runs. Here you should register pocketbase app <a href=https://pocketbase.io/docs/go-event-hooks/>hooks</a> to make your plugin do whatever you want it to do.<li><p><code data-highlighted=yes class="hljs language-scss"><span class=hljs-built_in>Name</span>() string</code> should return your plugin's unique name. Plugin names should follow a snake case naming convention, i.e. "my_plugin".<li><p><code data-highlighted=yes class="hljs language-scss"><span class=hljs-built_in>Version</span>() string</code> should return your plugin's current version number. You will notice that in the example it returns a package-level variable called <code data-highlighted=yes class="hljs language-undefined">version</code>. At build time, xpb automatically sets this variable for you using the version in the build projects <code data-highlighted=yes class="hljs language-go"><span class=hljs-keyword>go</span>.mod</code> file, so you should not need to generally worry about this.<li><p><code data-highlighted=yes class="hljs language-scss"><span class=hljs-built_in>Description</span>() string</code> should return a short description of what you plugin is and what it does. This is used in the set of pocketbase xpb commands for listing currently installed plugins.</ul><div class="pager svelte-1x0xo3c"><div class=left><a href=/installing-xpb>Previous: Installing XPB</a></div><div class=right><a href=/creating-a-plugin/plugin-config>Next: Plugin Config</a></div></div></section></div></main><footer class=svelte-demnok><div class="wrapper svelte-13na8n2"><div class="left svelte-13na8n2"></div><div class="right svelte-13na8n2"><div class="plenti svelte-13na8n2"><a href=https://plenti.co/ class=svelte-13na8n2>Made with
<img src=/plenti.svg alt="plentico planarian"></a></div></div></div></footer></div>